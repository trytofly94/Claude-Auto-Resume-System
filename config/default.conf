# Claude Auto-Resume - Standard-Konfiguration
# Konfigurationsdatei für das claunch-basierte Session-Management System
# Version: 1.0.0-alpha
# Letzte Aktualisierung: 2025-08-05

# ===============================================================================
# SESSION-MANAGEMENT
# ===============================================================================

# Intervall in Minuten zwischen den Session-Checks
CHECK_INTERVAL_MINUTES=5

# Maximale Anzahl automatischer Neustarts einer Session
MAX_RESTARTS=50

# Verwende claunch für Session-Management (empfohlen)
# Das System erkennt automatisch ob claunch verfügbar ist und fällt
# graceful auf direkten Claude CLI Modus zurück wenn nicht verfügbar
USE_CLAUNCH=true

# claunch Betriebsmodus: "tmux" oder "direct"
# "tmux": Persistente Sessions mit tmux-Integration (empfohlen)
# "direct": Direkte claunch-Ausführung ohne tmux
CLAUNCH_MODE="tmux"

# Name-Präfix für automatisch erstellte tmux-Sessions
TMUX_SESSION_PREFIX="claude-auto"

# ===============================================================================
# USAGE-LIMIT-HANDLING
# ===============================================================================

# Standard-Wartezeit in Sekunden nach Usage-Limit (5 Minuten)
USAGE_LIMIT_COOLDOWN=300

# Backoff-Faktor für exponentielle Wartezeit-Verlängerung
BACKOFF_FACTOR=1.5

# Maximale Wartezeit in Sekunden (30 Minuten)
MAX_WAIT_TIME=1800

# Anzahl aufeinanderfolgender Usage-Limits vor erweitertem Backoff
USAGE_LIMIT_THRESHOLD=3

# ===============================================================================
# LOGGING-KONFIGURATION
# ===============================================================================

# Log-Level: DEBUG, INFO, WARN, ERROR
LOG_LEVEL="INFO"

# Aktiviere automatische Log-Rotation
LOG_ROTATION=true

# Maximale Größe einer Log-Datei vor Rotation
MAX_LOG_SIZE="100M"

# Log-Datei-Pfad (relativ zum Projekt-Root)
LOG_FILE="logs/hybrid-monitor.log"

# ===============================================================================
# TERMINAL-INTEGRATION
# ===============================================================================

# Bevorzugter Terminal-Emulator: "auto", "iterm2", "terminal", "gnome-terminal"
PREFERRED_TERMINAL="auto"

# Erstelle standardmäßig neue Terminal-Fenster für Sessions
NEW_TERMINAL_DEFAULT=true

# ===============================================================================
# NETZWERK & CONNECTIVITY
# ===============================================================================

# Timeout in Sekunden für Netzwerk-Connectivity-Checks
NETWORK_TIMEOUT=10

# Anzahl der Wiederholungsversuche bei Netzwerkfehlern
NETWORK_RETRY_COUNT=3

# ===============================================================================
# MONITORING & RECOVERY
# ===============================================================================

# Aktiviere Health-Check-Monitoring für Claude-Sessions
HEALTH_CHECK_ENABLED=true

# Intervall in Sekunden für Health-Checks
HEALTH_CHECK_INTERVAL=60

# Aktiviere automatische Session-Recovery nach Fehlern
AUTO_RECOVERY_ENABLED=true

# Maximale Anzahl Recovery-Versuche pro Session
MAX_RECOVERY_ATTEMPTS=3

# ===============================================================================
# TASK QUEUE CONFIGURATION
# ===============================================================================

# Task Queue System aktivieren
TASK_QUEUE_ENABLED=true

# Queue-Verzeichnis (relativ zum Projekt-Root)
TASK_QUEUE_DIR="queue"

# Standard-Timeout für Tasks in Sekunden (1 Stunde)
TASK_DEFAULT_TIMEOUT=3600

# Maximale Retry-Versuche pro Task
TASK_MAX_RETRIES=3

# Delay zwischen Retry-Versuchen in Sekunden
TASK_RETRY_DELAY=300

# Task-Completion-Detection-Pattern
TASK_COMPLETION_PATTERN="###TASK_COMPLETE###"

# Maximale Queue-Größe (0 = unbegrenzt)
TASK_QUEUE_MAX_SIZE=0

# Auto-Cleanup für alte completed/failed Tasks (in Tagen)
TASK_AUTO_CLEANUP_DAYS=7

# Backup-Aufbewahrungszeit in Tagen
TASK_BACKUP_RETENTION_DAYS=30

# JSON-File-Locking-Timeout in Sekunden
QUEUE_LOCK_TIMEOUT=30

# Task Queue Processing Configuration (für hybrid-monitor.sh)
QUEUE_PROCESSING_DELAY=30
QUEUE_MAX_CONCURRENT=1
QUEUE_AUTO_PAUSE_ON_ERROR=true

# Context clearing between tasks (Issue #93)
# Automatically clear Claude's context between tasks to prevent context pollution
# Set to false to maintain old behavior where context is preserved
QUEUE_SESSION_CLEAR_BETWEEN_TASKS=true

# Wait time in seconds after sending /clear command
QUEUE_CONTEXT_CLEAR_WAIT=2

# ===============================================================================
# SMART COMPLETION DETECTION (Issue #90)
# ===============================================================================

# Enable smart completion detection with completion markers
SMART_COMPLETION_ENABLED=true

# Confidence threshold for completion detection (0.0 - 1.0)
COMPLETION_CONFIDENCE_THRESHOLD=0.8

# Default timeouts for different task types (in seconds)
FALLBACK_DEV_TIMEOUT=900          # 15 minutes for development tasks
FALLBACK_REVIEW_TIMEOUT=600       # 10 minutes for review tasks
FALLBACK_CUSTOM_TIMEOUT=600       # 10 minutes for custom tasks
FALLBACK_GENERIC_TIMEOUT=300      # 5 minutes for generic tasks

# Fallback completion strategy: interactive, timeout, manual
FALLBACK_STRATEGY=interactive

# Number of fallback retry attempts
FALLBACK_RETRY_COUNT=2

# Delay between fallback retries (in seconds)
FALLBACK_RETRY_DELAY=30

# Enable/disable automatic completion marker generation
AUTO_GENERATE_COMPLETION_MARKERS=true

# ===============================================================================
# ADVANCED SETTINGS
# ===============================================================================

# Debug-Modus: Aktiviert zusätzliche Debug-Ausgaben
DEBUG_MODE=false

# Dry-Run-Modus: Simuliert Aktionen ohne sie auszuführen
DRY_RUN=false